<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Distributed Audio Processing</title> 
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html,word,fn-in --> 
<meta name="src" content="main_de.tex"> 
<meta name="date" content="2015-10-20 00:36:00"> 
<link rel="stylesheet" type="text/css" href="main_de.css"> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  

<h2 class="titleHead">Distributed Audio Processing</h2>
     <div class="author" ><span 
class="ptmr7t-x-x-120">Alexander Gustafson</span>
<br /><span 
class="ptmr7t-x-x-120">University of Applied Sciences,</span>
<br />           <span 
class="ptmr7t-x-x-120">Z</span><span 
class="ptmr7t-x-x-120">&#x00FC;rich,</span>
<br />         <span 
class="ptmr7t-x-x-120">Switzerland,</span>
<br />   <span 
class="ptmr7t-x-x-120">alex</span><span 
class="ptmr7t-x-x-120">_gustafson@yahoo.de</span></div><br />
<div class="date" ><span 
class="ptmr7t-x-x-120">October 20, 2015</span></div>
                                                                  

                                                                  
   </div>
                                                                  

                                                                  
   <h2 class="likechapterHead"><a 
 id="x1-1000"></a>Abstract</h2> In modern profesional music studios, the computer has become responsible for
tasks that were previously performed by dedicated hardware. Mixing boards, effect
processors, dynamic compressors and equalizers, even the instruments themselves, are all
available as software. To alleviate the processing load on the CPU there is a growing
market for specialized DSP coprocessors which can process mutliple channels of
digital audio in realtime. These coprocessors are typically connected via Firewire or
PCIe and use multiple DSP chips for the processing. This project will examine an
inexpensive alternative based on standard Gigabit Ethernet and higher end Raspberry Pi
clones.
                                                                  

                                                                  
   <h2 class="likechapterHead"><a 
 id="x1-2000"></a>Contents</h2> <div class="tableofcontents">
   <span class="chapterToc" >1 <a 
href="#x1-30001" id="QQ2-1-3">Introduction</a></span>
<br />    <span class="sectionToc" >1.1 <a 
href="#x1-40001.1" id="QQ2-1-4">Ausgangslage</a></span>
<br />    <span class="sectionToc" >1.2 <a 
href="#x1-50001.2" id="QQ2-1-5">Ziel der Arbeit</a></span>
<br />    <span class="sectionToc" >1.3 <a 
href="#x1-60001.3" id="QQ2-1-6">Aufgabenstellung</a></span>
<br />   <span class="chapterToc" >2 <a 
href="#x1-70002" id="QQ2-1-7">Einf&#x00FC;hrung ins Thema</a></span>
<br />    <span class="sectionToc" >2.1 <a 
href="#x1-80002.1" id="QQ2-1-8">Background</a></span>
<br />    <span class="sectionToc" >2.2 <a 
href="#x1-90002.2" id="QQ2-1-9">Echzeit Audio Plug-ins</a></span>
<br />    <span class="sectionToc" >2.3 <a 
href="#x1-100002.3" id="QQ2-1-10">Audio Over Ethernet</a></span>
<br />    <span class="sectionToc" >2.4 <a 
href="#x1-110002.4" id="QQ2-1-11">Single Board Computers</a></span>
<br />    <span class="sectionToc" >2.5 <a 
href="#x1-120002.5" id="QQ2-1-12">Virtual Analog Synthesis</a></span>
<br />   <span class="chapterToc" >3 <a 
href="#x1-130003" id="QQ2-1-15">Anforderungsanalyse</a></span>
<br />    <span class="sectionToc" >3.1 <a 
href="#x1-140003.1" id="QQ2-1-16">General Requirements</a></span>
<br />    <span class="sectionToc" >3.2 <a 
href="#x1-150003.2" id="QQ2-1-17">Distributed Processing</a></span>
<br />    <span class="sectionToc" >3.3 <a 
href="#x1-160003.3" id="QQ2-1-21">Audio Plugin</a></span>
<br />    <span class="sectionToc" >3.4 <a 
href="#x1-170003.4" id="QQ2-1-22">Remote Processing Node</a></span>
<br />    <span class="sectionToc" >3.5 <a 
href="#x1-180003.5" id="QQ2-1-23">Software Requirements</a></span>
<br />     <span class="subsectionToc" >3.5.1 <a 
href="#x1-190003.5.1" id="QQ2-1-24">Evaluierte C++ Frameworks</a></span>
<br />   <span class="chapterToc" >4 <a 
href="#x1-200004" id="QQ2-1-25">Implementation</a></span>
<br />    <span class="sectionToc" >4.1 <a 
href="#x1-210004.1" id="QQ2-1-26">Architecture</a></span>
<br />     <span class="subsectionToc" >4.1.1 <a 
href="#x1-220004.1.1" id="QQ2-1-28">Host CPU</a></span>
<br />     <span class="subsectionToc" >4.1.2 <a 
href="#x1-230004.1.2" id="QQ2-1-30">Vernetzte SBCs</a></span>
<br />    <span class="sectionToc" >4.2 <a 
href="#x1-240004.2" id="QQ2-1-32">Software Komponenten</a></span>
<br />     <span class="subsectionToc" >4.2.1 <a 
href="#x1-250004.2.1" id="QQ2-1-33">Socket Monitor</a></span>
<br />     <span class="subsectionToc" >4.2.2 <a 
href="#x1-260004.2.2" id="QQ2-1-34">ZeroconfManager</a></span>
<br />     <span class="subsectionToc" >4.2.3 <a 
href="#x1-270004.2.3" id="QQ2-1-35">DiauproMessage</a></span>
<br />     <span class="subsectionToc" >4.2.4 <a 
href="#x1-280004.2.4" id="QQ2-1-36">DiauproProcessor</a></span>
<br />     <span class="subsectionToc" >4.2.5 <a 
href="#x1-290004.2.5" id="QQ2-1-37">DiauproVCOProcessor</a></span>
<br />     <span class="subsectionToc" >4.2.6 <a 
href="#x1-300004.2.6" id="QQ2-1-38">DiauproVCAProcessor</a></span>
<br />   <span class="chapterToc" >5 <a 
href="#x1-310005" id="QQ2-1-39">Conclusion</a></span>
<br />   <span class="chapterToc" >6 <a 
href="#x1-320006" id="QQ2-1-40">Glossary</a></span>
<br />   <span class="chapterToc" >7 <a 
href="#x1-410007" id="QQ2-1-49">Appendix A</a></span>
<br />    <span class="sectionToc" >7.1 <a 
href="#x1-420007.1" id="QQ2-1-50">Compiling the Source Code</a></span>
<br />    <span class="sectionToc" >7.2 <a 
href="#x1-430007.2" id="QQ2-1-51">Bonjour</a></span>
<br />    <span class="sectionToc" >7.3 <a 
href="#x1-440007.3" id="QQ2-1-52">Evaluated Frameworks</a></span>
   </div>
                                                                  

                                                                  
                                                                  

                                                                  
   <h2 class="chapterHead"><span class="titlemark">Chapter 1</span><br /><a 
 id="x1-30001"></a>Introduction</h2>
   <h3 class="sectionHead"><span class="titlemark">1.1    </span> <a 
 id="x1-40001.1"></a>Ausgangslage</h3>
<!--l. 3--><p class="noindent" >20 years ago the CPU was just one component of a typical music studio. It was generally
used to control and synchronize other equipement such as mixing boards, multitrack
recorders, synthsizers and effects processors. Today all of the other equipement exists as
software, running in realtime on a CPU host. A typical music studio today is comprised of a
CPU, multiple analog to digital inputs and outputs, and some DSP equiped audio processing
cards.
<!--l. 5--><p class="indent" >   Simliar to GPU Cards which can accelerate graphics and visualization applications, audio
DSP cards can process multiple streams of high qualtiy digital audio, eliviating the load on
the CPU Host Computer. Audio DSP cards typically connect to the CPU via PCI, Firewire, or
Thunderbolt. Most vendors of DSP cards offer the possibility to connect several cards in
parallel to increase the processing capacity.
<!--l. 7--><p class="indent" >   Unlike GPU processors however, no open standard has evolved to distribute the load
across multiple co processors in the way it has for openGL or openCL. 3D graphics
applications profit enormously from the interoperability that openGL offers. No such benefit
is available for digital audio applications. Also, unlike OpenGL applications, audio
software that is developed to run on an audio DSP card cannot be run on the CPU host.
This results in vendor lock-in. The consumer that invests in an audio DSP card and
software, must continue to buy from the same vendor in order to build on the the
initial investment. If another vendor of DSP hardware creates a superior product, a
consumer is unlikely to switch platforms if a significant investment has already been
made.
<!--l. 9--><p class="indent" >   10 years ago this was an acceptable compromise because DSP processors connected via
PCIe could provide a significant performance increase. Today however, arm based
inexpensive CPUs connected via standard gigabit ethernet could offer a competative
alternatvie.
<!--l. 11--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">1.2    </span> <a 
 id="x1-50001.2"></a>Ziel der Arbeit</h3>
<!--l. 13--><p class="noindent" >Das Ziel dieser Studienarbeit ist es, die M&#x00F6;glichkeiten f&#x00FC;r die Verteilung von Audio
Verarbeitungsaufgaben f&#x00FC;r einen Software-basierten Musik Synthesizer &#x00FC;ber ein Netzwerk
von SBC-Ger&#x00E4;ten (Single Board Computer) zu untersuchen. Einschr&#x00E4;nkungen in der
Polyphonie oder der Prozessorleistung sollen durch einfaches Hinzuf&#x00FC;gen eines neuen Ger&#x00E4;ts
im Netzwerk gel&#x00F6;st werden. Ein besonderes Augenmerk soll auf g&#x00FC;nstige Raspberry-Pi und
&#x00E4;hnliche SBC Ger&#x00E4;te gelegt werden, vor allem unter Ber&#x00FC;cksichtigung von Preis und
Leistung. Es existieren viele Standards, damit Audio Applikationen miteinander
kommunizieren k&#x00F6;nnen. MIDI und OSC definieren Protokolle zur Steuerung von
Audio- Ger&#x00E4;ten und Software. VST, AU und LW2 sind Standard Schnittstellen f&#x00FC;r
Plugins, die Echtzeitaudioverarbeitung bieten. AVB ( IEEE 1722 ), Jacktrip und Dante
sind Standards bzw. Software f&#x00FC;r die &#x00DC;bertragung von hochwertigem Audio &#x00FC;ber
Ethernet mit minimaler Latenz. Diese Studienarbeit wird einige dieser Standards
                                                                  

                                                                  
untersuchen, um zu eruieren, was notwendig ist, um einen skalierbaren und verteilbaren
Musik-Synthesizer zu entwickeln, der mit anderen professionellen Audio Software
kompatibel ist. Eine Proof-of-Concept Version der verteilbaren Synthesizer Software wird
entwickelt, welche es einem Benutzer erlauben wird, ein Musikst&#x00FC;ck in Echtzeit zu
spielen.
<!--l. 17--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">1.3    </span> <a 
 id="x1-60001.3"></a>Aufgabenstellung</h3>
     <ul class="itemize1">
     <li class="itemize">Anforderungsanalyse mit Priorit&#x00E4;tsbewertung
     </li>
     <li class="itemize">Vergleich von mehreren CPUs und Embedded Systems ( Banana Pi, Adapteva,
     Odroid) hinsichtlich ihrer Nutzbarkeit als Echtzeit Audioverarbeitungsmodule.
     Mit   dem   System,   das   die   Anforderungen   am   besten   erf&#x00FC;llt,   wird   die
     Implementierung gemacht.
     </li>
     <li class="itemize">Entwicklung der Audioverarbeitungssoftware in C ++.
     </li>
     <li class="itemize">Entwicklung eines VST-Plugins in C++, das als Schnittstelle zwischen g&#x00E4;ngigen
     Audio-Software und den Audioverarbeitungsmodule (pkt 3) dient.
     </li>
     <li class="itemize">Analyse  der  Implementierung,  um  die  N&#x00FC;tzlichkeit  und  Skalierbarkeit  zu
     bewerten.  Es  ergeben  sich  dadurch  verschiedene  Fragestellungen  wie  z.B.
     folgende: Kann die Leistung und Polyphonie durch Hinzuf&#x00FC;gen weiterer Module
     erh&#x00F6;ht werden, oder wird der Kommunikations-Overhead schlie&#x00DF;lich zu gross?
     </li></ul>
                                                                  

                                                                  
   <h2 class="chapterHead"><span class="titlemark">Chapter 2</span><br /><a 
 id="x1-70002"></a>Einf&#x00FC;hrung ins Thema</h2>
   <h3 class="sectionHead"><span class="titlemark">2.1    </span> <a 
 id="x1-80002.1"></a>Background</h3>
<!--l. 3--><p class="noindent" >Vor 20 Jahren musste man ins Tonstudio um einen Musik- oder Audioaufnahme
zu bearbeiten. Dort befanden sich gro&#x00DF;er Racks voller Ger&#x00E4;te f&#x00FC;r verscheidene
Signalverarbeitungsaufgaben. Zum Beispiel, Komprssoren und Limiters um den
Dynamikbereich zu verarbeiten, oder Hall und Echo ger&#x00E4;te um einen Tonspur mehr
Atmosph&#x00E4;re zu vergeben. Am Mischpult konnte man Lautst&#x00E4;rke und Frequenzgang mehrere
Tonspuren anpassen.
<!--l. 5--><p class="indent" >   Heute werden alle diese Aufgaben von Software-Plug-ins auf der CPU berechnet.
<!--l. 7--><p class="indent" >   1996 hatte Steinberg GmbH, die Entwickler von Cubase, einem popul&#x00E4;ren
Audio-Produktionssoftware (oder DAW, Digital Audio Workstation), die VST-Schnittstelle und
SDK ver&#x00F6;ffentlicht. Das VST-Plugin-Standard war Besonderes, weil es Echtzeit-Verarbeitung
von Audiodaten in der CPU erm&#x00F6;glichte. Dazu konnten andere Entwickler jetzt Plugins
entwickeln die innerhalb Cubase ausgef&#x00FC;hrt werden konnten. Das VST-Plugin-Standard hatte
schnell Akzeptanz in der Branche gefunden und wurde sogar von konkurrierenden DAWs
implementiert. Obwohl alternative Standards heute existieren, ist VST immer noch die am
weitesten verbreitete Crossplatform-Standard.
<!--l. 9--><p class="indent" >   Die Zahl der Echtzeit-Plug-ins, die auf einer CPU laufen konnte, wurde durch mehrere
Faktoren wie, Festplattenzugriffsgeschwindigkeiten, Bus-Geschwindigkeiten, viel RAM und
OS-Scheduler zum Beispiel beschr&#x00E4;nkt <span class="cite"> [<a 
href="#Xbrandt1998low">3</a>]</span>. Benutzer damals erwarteten nicht mehr als 10
Plugins gleichzeitig ausf&#x00FC;hren zu k&#x00F6;nnen. Schon der Wiedergabe mehrerer Spuren ohne
Plug-ins konnte einen Rechner ins Stottern bringen.
<!--l. 11--><p class="indent" >   Heute ist es jedoch m&#x00F6;glich, hunderte Tonspuren und Hunderte Plugins in Echtzeit
wiederzugeben. W&#x00E4;hrend die Leistungsgrenze angestiegen ist, stiegen auch die Erwartungen
der Benutzer. Die Algorithmen heutiger Plugins sind sehr viel komplexer, als diejenigen von
1996. Es werden Akustische Systeme detailgenau Modeliert und die Schaltkreise alte 70er
Jahre Synthesisers digital emuliert. Auch wenn die CPU-Leistung sich deutlich erh&#x00F6;ht hat, ist
es noch leicht, die Grenzen zu erreichen.
<!--l. 13--><p class="indent" >   Mehrere DSP-basierten Systemen existieren, die, &#x00E4;hnlich wie GPU-Beschleunigungskarten,
die CPU Belastung lindern. Audio-Verarbeitungsaufgaben werden an externe Hardware via
PCIe oder Thunderbolt-Schnittstellen &#x00FC;bertragen. Jedoch sind diese DSP-basierten Systeme
propriet&#x00E4;re und teuer. Die Entwicklung von Software f&#x00FC;r einen DSP-Chip ist auch einiges
komplexer als f&#x00FC;r einen CPU.
   <h3 class="sectionHead"><span class="titlemark">2.2    </span> <a 
 id="x1-90002.2"></a>Echzeit Audio Plug-ins</h3>
<!--l. 3--><p class="noindent" >Das Produzieren von Audio und Musik wird in der Regel mit Hilfe eines Digital Audio
Workstations (DAW) Software gemacht. MIDI-Events und Audio-Aufnahmen werden als
Spuren arrangiert, gemisht, editiert und verarbeitet. Um &#x00C4;nderungen r&#x00FC;ckg&#x00E4;ngig zu machen,
werden Bearbeitungen in einer Nicht-destruktives Verfahren gemacht, dynamisch
in Echtzeit w&#x00E4;hrend der Wiedergabe berechnet. Die urspr&#x00FC;nglichen Audiodaten
beleiben immer im original Zustand erhalten. Der Benutzer kann die Parameter eines
Effektes oder Prozess in Echtzeit &#x00E4;ndern, und mit verschiedenen Einstellungen
                                                                  

                                                                  
experimentieren, ohne zu f&#x00FC;rchten, dass die urspr&#x00FC;ngliche Audioaufzeichnungen ge&#x00E4;ndert
werden.
<!--l. 5--><p class="indent" >   Ein DAW-Anwendung hat in der Regel mehrere Echtzeit-Effekte eingebaut, welche ein
Benutzer auf Audiospuren anwenden kann. Zus&#x00E4;tzlich zu den eingebauten Effekte sind alle
professionellen DAW-Anwendungen auch in der Lage, Dritthersteller-Plugins zu
laden. In Abh&#x00E4;ngigkeit von der Plattform und Anbieter werden einer oder mehreren
Plugin-Standards implmeneted. Die am weitesten verbreitete Standard ist Steinbergs
VST-Standard.
<!--l. 7--><p class="indent" >   Alle Standards funktionieren in einer &#x00E4;hnliche Weise. Der Host DAW-Anwendung &#x00FC;bergibt
in regelm&#x00E4;&#x00DF;igen Abst&#x00E4;nden das Plug-in &#x00FC;ber einen R&#x00FC;ckruffunktion zu-verarbeitende
Audiodaten. Das Plug-in muss innerhalb einer definierten Zeitrahmen die Verarbeitung
abgeschlossen haben und wartet dann auf das n&#x00E4;chste Abruff.
<!--l. 9--><p class="indent" >   Audio-Plug-ins k&#x00F6;nnen auch einen Grafisches Oberfl&#x00E4;che zu verf&#x00FC;gung stellen &#x00FC;ber die
ein Benutzer Parameter &#x00E4;ndern und speichern kann. Dies k&#x00F6;nnte die Grenzfrequenz eines
Tiefpassfilters oder der Verz&#x00F6;gerungszeit eines Hall-Effekt sein, zum Beispiel.
<!--l. 11--><p class="indent" >   Aus der Sicht des Programmierers sind Plug-ins dynamisch ladbare Bibliotheken, die ein
spezifiziertes API implementieren. Der Host-DAW-Anwendung dann sie zur Laufzeit laden
und Audiodaten durch sie verarbeiten lassen<span class="cite"> [<a 
href="#Xrealtime-architectures">6</a>]</span>. Auf der Windows-Plattform werden
VST-Plugins als <img 
src="main_de0x.png" alt="Dynamic "  class="math" > <img 
src="main_de1x.png" alt="Link "  class="math" > <img 
src="main_de2x.png" alt="Libraries "  class="math" > (DLL) kompiliert, auf Mac OSX sind sie
Mach-O-Bundles. Die native Apple AudioUnit Plug-ins sind auch als Mach-O Bundles
zusammengestellt, sie haben fast identische Funktionalit&#x00E4;t. Andere alternative Plugin
Formate sind Avids RTAS und AAX-Plug-Formate, Microsofts DirectX-Architektur oder
LADSPA, DSSI und GW2 auf Linux.
<!--l. 13--><p class="indent" >   Echtzeit Audio Plug-ins, wie der Name schon sagt, mussen in der Lage sein, ihre
Aufgaben schnell genug, um die Anforderunen Echtzeit-Audio zu erf&#x00FC;llen. Wie schnell ist
schnell genug? Nun, das h&#x00E4;ngt davon ab, wie man ”Echtzeit” definiert. F&#x00FC;r Audio
Anwendungen wird Echtzeit in Bezug auf das Latenz des Audiosystems definiert.
Die Gesamtverz&#x00F6;gerung zwischen das Eintreff eines Audiosignals in das System
(beim Analog-Digital-Wandler zum Beispiel), Verarbeitung, und das Verlassen des
Systems (beim Digital-Analog-conterver oder Audio Ausgang) ist die Latenz. Die
maximal zul&#x00E4;ssige Latenzzeit f&#x00FC;r Audioanwendung ist ungef&#x00E4;hr 10 ms <span class="cite"> [<a 
href="#XAES67-2013">7</a>]</span>. H&#x00F6;her als
10ms wird die Latenzzeit als st&#x00F6;rend empfunden und ist nicht mehr akzeptabel f&#x00FC;r
Live-Performance-Anwendungen.
<!--l. 15--><p class="indent" >   Jeder Berechnung wird eine gewisse Verz&#x00F6;gerung hinzuf&#x00FC;gen. Doch innerhalb der
Audio-Verarbeitungsfunktion, muss der Programmierer darauf achten, keine unn&#x00F6;tigen oder
unberechenbare Verz&#x00F6;gerungen zu erzeugen. Es ist auch wichtig zu verstehen, dass die
Audio-Verarbeitungsfunktion im Kontext eines Hoch-Priorit&#x00E4;res System-Thread
berechnet wird. Nichts innerhalb dieser Funktion sollte auf Ressourcen warten
welche von anderen Threads mit niedrigerer Priorit&#x00E4;t berechnet werden. Beispiele f&#x00FC;r
Dinge zu vermeiden, sind Speicher Allozierungen oder Deallozierungenoder, Warten
auf- oder Sperren eines Mutexes, bedingte Ausdr&#x00FC;cke innerhalb von Schleifen, die
Pipe-Lining-Optimierungen brechen k&#x00F6;nnten<span class="cite"> [<a 
href="#Xrealtime-architectures">6</a>]</span> oder direkt Aktualisierungen des
Grafischen-Oberfl&#x00E4;ches vornehmen.
                                                                  

                                                                  
   <h3 class="sectionHead"><span class="titlemark">2.3    </span> <a 
 id="x1-100002.3"></a>Audio Over Ethernet</h3>
<!--l. 4--><p class="noindent" >Das Versenden von Audiodaten &#x00FC;ber Netzwerke ist nicht neu. Auch das Senden von
Audiodaten in Echtzeit nicht. Das IETF (Internet Engineering Taskforce) RFC 3550 definitert
das Real-time Transport Protocol f&#x00FC;r die Bereitstellung von Audio und Video in Echtzeit &#x00FC;ber
IP-Netzwerke. RTP wird als Grundlage f&#x00FC;r die meisten Medien-Streaming und
Video-Conferencing-Anwendungen eingesetzt.
<!--l. 6--><p class="indent" >   Andere neue Spezifikationen wie AVB und AES67 bauen auf RTP und erm&#x00F6;glichen
acurate Timing und Synchronisation f&#x00FC;r professionelle Audio-Anwendungen. Die
Synchronisation ist in diesen Standards wichtig, weil sie sich mit der Steuerung von
Audiohardware vetteilt auf mehreren Hosts befassen.
<!--l. 8--><p class="indent" >   Hardware-Synchronisation ist nicht f&#x00FC;r dieses Projekt relevent, weil es sich nicht mit
externen Audio-Hardware befasst. Das Ziel dieses Projektes ist es, externe CPUs als
Audio-Koprozessoren &#x00FC;ber Gigabit-Ethernet zu nutzen. Trotzdem, die AVB und
AES67 Standards bieten viele Erkenntnisse dar&#x00FC;ber, wie die Daten&#x00FC;bertragung f&#x00FC;r
Low-Latency-Anwendungen optimieret werden kann und ist ein Proof-of-Concept, dass es
m&#x00F6;glich ist. AES67 definiert Richtlinien um Latenzzeiten deutlich unter 1 ms zu erreichen,
auch bei hunderte parallel laufende Audiostreams. Dies ist viel schneller als die Legacy-PCI
und Firewire Verbindungen welche in vielen DSP-basierten Systemen verwendet
worden<span class="cite"> [<a 
href="#Xbouillot2009aes">1</a>]</span>.
   <h3 class="sectionHead"><span class="titlemark">2.4    </span> <a 
 id="x1-110002.4"></a>Single Board Computers</h3>
<!--l. 3--><p class="noindent" >Die Popularit&#x00E4;t der Raspberry Pi hat eine ganze Industrie rund um Single-Board-Computer
(SBC) generiert. Basierend auf Hardware welches in Mobiltelefonen zu finden ist, sind diese
kleinen Low-Power-Ger&#x00E4;te sehr beliebt, weil sie preiswert und einfach zu bedienen
sind. Der gr&#x00F6;&#x00DF;te Vorteil von SBCs im Vergleich zu anderen eingebetteten Ger&#x00E4;ten
ist, dass sie mit Android- und Linux-Betriebssysteme ausgef&#x00FC;hrt werden, so dass
sie mit den gleichen Tools auf Desktop-Computern zur Verf&#x00FC;gung programmiert
werden.
<!--l. 5--><p class="indent" >   Aktuelle High-End-SBCs werden sogar mit Gigabit-Ethernet ausgestatet und
Quad-Core-CPUs mit Geschwindigkeiten weit &#x00FC;ber 1 GHz getaktet. Vergleicht man diese
Systeme mit den 450 MHz G3 PPC-Systeme auf dem die ersten VST Software Plug-ins
berechnet wurden, sollten wir erwarten k&#x00F6;nnen, dass die neueren High-End-SBCs exzellente
Audio Coprozessoren sein sollen.
<!--l. 7--><p class="indent" >   Zwei SBCs sind es wert, in Betracht gezogen zu werden, da sie m&#x00F6;glicherweise noch
bessere Performance als Audio Coprozessoren beiten. Das Parallella Board hat einen 16 Core
Epiphany Coprozessor welches verwendet werden kann, um die Audioverarbeitung parallel
auszuf&#x00FC;hren. Standard Frameworks wie OpenCL, MPI oder OpenMP k&#x00F6;nnen verwendet
werden, um die Epiphany-Cores zu ben&#x00FC;tzen. Der ODROID-XU4 SBC enth&#x00E4;lt eine
Mali-T628 GPU-Coprozessor, der auch OpenCL kompatibel ist. Beide sind f&#x00FC;r weniger als $
100 erh&#x00E4;ltlich.
<!--l. 9--><p class="indent" >   Der Programmierung von Audioverarbeitungsalgorithmen als OpenCL Kernels k&#x00F6;nnte
einiges komplexer sein als in C ++, aber OpenCL bietet herstellerunabh&#x00E4;ngige Zugriff auf
GPGPU-Computing und hat den zus&#x00E4;tzlichen Vorteil, dass es auch auf einem CPU ohne
GPU-Beschleunigung verwendet werden kann<span class="cite"> [<a 
href="#Xvst-gpu">5</a>]</span>.
                                                                  

                                                                  
<!--l. 11--><p class="indent" >   Die Untersuchung dieser und anderer OpenCL f&#x00E4;higer SBCs k&#x00F6;nnte eine interessantes
Folgeprojekt sein.
   <h3 class="sectionHead"><span class="titlemark">2.5    </span> <a 
 id="x1-120002.5"></a>Virtual Analog Synthesis</h3>
<!--l. 3--><p class="noindent" >Der Begriff ”Virtueller Analoger Synthese” wird verwendet, um die Echtzeit-Emulation des
analogen Synthesizern der 60er und 70er Jahre zu beschreiben. Die Komplexit&#x00E4;t und die
Ziele einer Emulation k&#x00F6;nnen variieren. Einige Emulationen gehen so weit, dass sie die
tats&#x00E4;chlichen elektronischen Komponenten der Vintage-Synthese-Schaltungen zu simulieren,
andere modellieren nur grob den Signalfluss.
<!--l. 5--><p class="indent" >   Unabh&#x00E4;ngig von der Art der Emulation hat virtuell analoger Synthese zwei Probleme mit
dem es sich Besch&#x00E4;ftigen muss, Latenzzeit und Aliasing. Das Problem der Latenzzeit wurde
bereits oben beschrieben. Die Verarbeitung wird eine Verz&#x00F6;gerung des Signals
erzeugen, die Komplexit&#x00E4;t der Verarbeitung kann die Verz&#x00F6;gerung erh&#x00F6;hen oder mehr
CPU-Zyklen verbrauchen. Aliasing ist ein h&#x00F6;rbare Verzerrungen des Signals, welches
durch Frequenzen verursacht werden die h&#x00F6;her sind als die Abtastrate des Systems
erlaubt.
<!--l. 7--><p class="indent" >   Analog-Synthesizer verwenden &#x00FC;blicherweise Subtraktive Synthese. Ein oder mehrere
Klangerzeuger ( Oszillatoren ) erzuegen Signale mit besondere harmonische Qualit&#x00E4;ten.
Diese Signale werden durch Filter geschickt, welche die Frequenzen aus dem Signal
”Subtraktieren”. Die Oszillatoren, Filter und Amplitude k&#x00F6;nnen moduliert werden.
Abbildung <a 
href="#x1-12001r1">2.1<!--tex4ht:ref: fig:synth_voice_block --></a> ist ein einfaches Blockschaltbild eines typischen Subtraktive Synthesizer
Stimme.
<!--l. 9--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-12001r1"></a>
                                                                  

                                                                  
<!--l. 11--><p class="noindent" ><img 
src="main_de3x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="main_de3x.png" src="assets/synth_voice_block.pdf"  
-->
<br /> <div class="caption" 
><span class="id">Figure 2.1: </span><span  
class="content">Blockschaltbild eines Subtraktive Synthesizer Stimme</span></div><!--tex4ht:label?: x1-12001r1 -->
                                                                  

                                                                  
<!--l. 14--><p class="indent" >   </div><hr class="endfigure">
<!--l. 16--><p class="indent" >   Die spannungsgesteuerte Oszillatoren (voltage controlled oscillators, VCO) erzeugen
einfache Wellenformen in der Tonh&#x00F6;he, die auf der Tastatur gespielt wird. Der Benutzer kann
in der Regel zwischen einer Kombination aus S&#x00E4;gezahn, Rechteck oder Dreieckwellenform
w&#x00E4;hlen. Die Frequenzen oder die Klangfarbe der Wellenformen k&#x00F6;nnen dann durch die
folgenden Filter und Amplituden Bl&#x00F6;cke moduliert werden.
<!--l. 18--><p class="indent" >   Der erste Eindruck k&#x00F6;nnte sein, dass die Modellierung des Oszillators w&#x00E4;re
einfach. Ein digital erzeugte Rechteck oder S&#x00E4;gezahn-Wellenform sollte trivial zu
implementieren. Die 5 kHz S&#x00E4;gezahn Wellenform beispielsweise w&#x00FC;rde sich alle 8,82
Samples weiderholen bei einer Taktrate von 44,1 kHz. So w&#x00FC;rde die Wellenform linear von
-1,0 bis 1,0 auf erh&#x00F6;hen, dann zur&#x00FC;ck auf -1.0 springen auf -1,0 und erneut anfangen. Was
bedeutet aber 0,82 Samples in einer diskreten digitalen System? Abbildung  <a 
href="#x1-12002r2">2.2<!--tex4ht:ref: fig:aliasing_sawtooth --></a>
veranschaulicht das Problem. Die linke Spalte zeigt einen Abschnitt eines idealisierten
5kHz S&#x00E4;gezahnwellenform und der entsprechenden Frequenzinhalt. Oberhalb der
Grundfrequenz 5 kHz sind Oberwellen, die weit &#x00FC;ber 100 kHz h&#x00F6;rbar sein werden. Die rechte
Spalte zeigt den gleichen Abschnitt eines 5kHz S&#x00E4;gezahnwellenform in einem mit
44,1kHz getakteter diskreter Umgebung. Die Wellenform selbst ist verzerrt und
die h&#x00F6;heren Harmonischen sichtbar vom 22,05 kHz Nyquist-Grenze nach unten
reflektiert.
<!--l. 20--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-12002r2"></a>
                                                                  

                                                                  
<!--l. 22--><p class="noindent" ><img 
src="main_de4x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="main_de4x.png" src="plots/graphics/sawtooth.pdf"  
-->
<br /> <div class="caption" 
><span class="id">Figure 2.2: </span><span  
class="content">Ideal and Aliased 5kHz Sawtooth waveform</span></div><!--tex4ht:label?: x1-12002r2 -->
                                                                  

                                                                  
<!--l. 25--><p class="indent" >   </div><hr class="endfigure">
<!--l. 27--><p class="indent" >   Es gibt verschiedene Verfahren zur Beseitigung oder Verminderung von Aliasing. Die
effektivste ist es, die Oberwellen mit einer Reihe von Sinus Wellen bis zu der Nyquist-Grenze
oder die H&#x00E4;lfte der Abtastrate des Systems zu konstruieren, aber dies ist sehr rechenintensiv.
Weniger CPU-intensive Strategien sind Oversampling, Bandlimiting oder andere
Alias-Unterdr&#x00FC;ckungs Methoden<span class="cite"> [<a 
href="#Xvirtual_analog_synthesis">8</a>]</span>.
                                                                  

                                                                  
   <h2 class="chapterHead"><span class="titlemark">Chapter 3</span><br /><a 
 id="x1-130003"></a>Anforderungsanalyse</h2>
   <h3 class="sectionHead"><span class="titlemark">3.1    </span> <a 
 id="x1-140003.1"></a>General Requirements</h3>
<!--l. 3--><p class="noindent" >Die Anwendung besteht aus zwei Komponenten, einen Audio Plug-in, dass auf der haupt
CPU-Maschine lauft, und die Rechenknoten, die auf vernetzten SBC Ger&#x00E4;te laufen. Das
Audio-Plugin leitet MIDI-Steuerung und Audio-Daten zu den Rechenknoten. Die
Rechenknoten senden die verarbeiteten Audiodaten zur&#x00FC;ck an dem Audio-Plugin, das
wiederum die Daten an den Host DAW-Anwendung &#x00FC;bergibt. Die Gesamtumlaufzeit,
einschlie&#x00DF;lich der Verarbeitung sollte 10 ms nicht &#x00FC;berschreiten. Dies ist die maxium erlaubte
Latenzzeit f&#x00FC;r Live-Anwendungen<span class="cite"> [<a 
href="#XAES67-2013">7</a>]</span>.
<!--l. 5--><p class="indent" >   Die Rechenknoten und Audio Plug-in m&#x00FC;ssen in sich abgeschlossen sind und Funktionieren
ohne dass der Benutzer, externe Libraries, Frameworks oder Servern installieren
muss.<a 
href="#fn1x4" id="fn1x4-bk"><span class="MsoFootnoteReference"><sup class="textsuperscript">1</sup></span></a><a 
 id="x1-14001f1"></a>
   <h3 class="sectionHead"><span class="titlemark">3.2    </span> <a 
 id="x1-150003.2"></a>Distributed Processing</h3>
<!--l. 3--><p class="noindent" >Um die Belastung der Host-CPU zu reduzieren sollen Audio-Verarbeitungsaufgaben an
externen SBCs &#x00FC;ber Gigabit-Ethernet verteilt werden. Auf der Host-CPU arbeitet der
Audio Plug-in als Master-Knoten. F&#x00FC;r den Host-DAW, sollte die Verteilung der
Audio-Verarbeitungsaufgaben vollkommen unsichtbar sein. Der Master-Knoten empf&#x00E4;ngt,
MIDI- und Audiodaten von der Host-DAW und gibt die Ergebnisse zurr&#x00FC;ck wie jede andere
Audio-Plugin.
<!--l. 5--><p class="indent" >   Das Plug-in bekommt Zugriff auf eine kleine Puffer Audiodaten, in sehr kurze
regelm&#x00E4;ssigen Abst&#x00E4;nden. Das Plugin muss in kurzer Zeit die Daten verarbeiten und zur&#x00FC;ck
an das Host DAW-Anwendung, bevor der n&#x00E4;chste Puffer bereitsteht. Dies stellt einige
Grenzen, wie Bearbeitungsauftr&#x00E4;ge verteilt werden kann.
<!--l. 7--><p class="indent" >   Es gibt verschiedene Arten Verarbeitungsaufgaben zu parallelisieren. Jedes
Plug-in-Instanz k&#x00F6;nnte den gesamten Auftrag an einem Rechenknoten delegieren wie in
Abbildung <a 
href="#x1-15001r1">3.1<!--tex4ht:ref: fig:one_to_one --></a> dargestellt. Besteht einer Verarbeitungsaufgaben aus mehreren, in serie
geschalteten, Verarbeitungsbl&#x00F6;cke, dann k&#x00F6;nnte jedes Block einen Rechenknoten zugeteilt
werden, wie in Abbildung <a 
href="#x1-15002r2">3.2<!--tex4ht:ref: fig:perproccessor --></a> dargestellt. Speziell bei einer Virtuellen-Synthesizer-Plug-in
k&#x00F6;nnte jede gespielte Stimme seinem eigenen Rechenknoten zugeteilt werden, wie in
Abbildung <a 
href="#x1-15003r3">3.3<!--tex4ht:ref: fig:pervoice --></a> dargestellt.
<!--l. 10--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-15001r1"></a>
                                                                  

                                                                  
<!--l. 12--><p class="noindent" ><img 
src="main_de5x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="main_de5x.png" src="assets/distribution_1to1.pdf"  
-->
<br /> <div class="caption" 
><span class="id">Figure 3.1: </span><span  
class="content">Jedes Plugin Verteilt an einen Knoten</span></div><!--tex4ht:label?: x1-15001r1 -->
                                                                  

                                                                  
<!--l. 15--><p class="indent" >   </div><hr class="endfigure">
<!--l. 17--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-15002r2"></a>
                                                                  

                                                                  
<!--l. 19--><p class="noindent" ><img 
src="main_de6x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="main_de6x.png" src="assets/distribution_perprocessor.pdf"  
-->
<br /> <div class="caption" 
><span class="id">Figure 3.2: </span><span  
class="content">Jeder Verarbeitungsblock Verteilt an einen Knoten</span></div><!--tex4ht:label?: x1-15002r2 -->
                                                                  

                                                                  
<!--l. 22--><p class="indent" >   </div><hr class="endfigure">
<!--l. 24--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-15003r3"></a>
                                                                  

                                                                  
<!--l. 26--><p class="noindent" ><img 
src="main_de7x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="main_de7x.png" src="assets/distribute_byvoice.pdf"  
-->
<br /> <div class="caption" 
><span class="id">Figure 3.3: </span><span  
class="content">Jedes Synth Stimme Verteilt an einen Knoten</span></div><!--tex4ht:label?: x1-15003r3 -->
                                                                  

                                                                  
<!--l. 29--><p class="indent" >   </div><hr class="endfigure">
<!--l. 31--><p class="indent" >   F&#x00FC;r dieses Projekt wird die zweite Option implementiert aus Testbarkeitsgr&#x00FC;nden, auch
wenn es vielleicht nicht der effizienteste Implementierung ist.
   <h3 class="sectionHead"><span class="titlemark">3.3    </span> <a 
 id="x1-160003.3"></a>Audio Plugin</h3>
<!--l. 3--><p class="noindent" >Aus der Sich des Host DAW-Anwendungs muss das Plug-in wie ein ganz normales
VST-Plugin aussehen. Das Verteilen der Aufgaben auf vernetzte Rechenknoten muss
transparent funktionieren. Das Plug-in wird nicht in einer isolierten Umgebung ausgef&#x00FC;hrt. Es
teilt die Rechenresources mit der Host DAW, so wie eine beliebige Anzahl anderen
Plugins. Daher sollte sorgf&#x00E4;lltig die Belastung auf der CPU auf das N&#x00F6;tigste minimiert
werden.
<!--l. 5--><p class="indent" >   Audio Plug-ins haben typischerweise einen Zustand, der Parametereinstellungen enth&#x00E4;lt
die vom Audio-Host oder vom Benutzer gesteuert werden k&#x00F6;nnen. Der aktuelle Zustand muss
den vernetzten SBC Modulen auch mit geteilt werden. Dies ist notwendig, damit ein Audio
Plug-in, der Zustand einer fortlaufender Prozess, nahtlos einer vernetzte Rechenknoten
&#x00FC;berreichen kann. Es k&#x00F6;nnte auch verwendet werden, um eine vernetzte Rechenknoten durch
Umschalten des aktiven Zustandes die Verarbeitung f&#x00FC;r mehrere Audio Plug-ins zu
&#x00FC;bernehmen.<br 
class="newline" /><br 
class="newline" />Das Audio-Plugin stellt die folgenden Anforderungen:
     <ul class="itemize1">
     <li class="itemize">lauff&#x00E4;hig als Echtzeit VST Audio Plug-in in einer Standard DAW Anwendung
     </li>
     <li class="itemize">lokalisieren und verbinden mit einer passende Rechenknoten im Netzwerk
     </li>
     <li class="itemize">&#x00FC;berreichen von MIDI- und Audio-Daten vom Host DAW-Anwendung, zu den
     vernetzten Rechenknoten
     </li>
     <li class="itemize">empf&#x00E4;ngt Audiodaten von den Rechenknoten und &#x00FC;bergibt diese zur&#x00FC;ck an der
     DAW-Anwendung
     </li>
     <li class="itemize">ist   keinen   entsprechenden   Knoten   im   Netzwerk   vorhanden,   muss   die
     Audioverarbeitung Lokal statfinden
     </li>
     <li class="itemize">die   Audio   Plug-in   muss   sienen   aktuellen   Zustand   an   den   Rechenknoten
     &#x00FC;bermitteln k&#x00F6;nnen
     </li></ul>
                                                                  

                                                                  
<!--l. 1--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.4    </span> <a 
 id="x1-170003.4"></a>Remote Processing Node</h3>
<!--l. 3--><p class="noindent" >Die Rechenknoten sind Anwendungen, die auf den vernetzten SBC-Ger&#x00E4;ten laufen. Je nach
Art der implementierte Parallelisierung in der Audio Plug-in wird das Rechenknoten die
gesamte Verarbeitungsaufgabe oder einfach nur ein Teil der Aufgabe bekommen. F&#x00FC;r dieses
Projekt werden die Rechenknoten als Reihe von Prozessoren in eine &#x00FC;bergeordnete
Anwendung umgesetzt werden. Die &#x00FC;bergeordnete Anwendung wird eine Socket-Listener
implementieren, welche den zugeorneten Rechenknoten aufrufft sobald ein Audio
Verarbeitungsaufgabe eintrifft. Die Verf&#x00FC;gbarkeit, Art und Lage der Rechennoten
und das entsprechende Socket wird &#x00FC;ber das Netzwerk via Bonjour / Zeroconf
&#x00FC;bertragen.
<!--l. 5--><p class="indent" >   Die Rechenknoten sollten stateless sein. Jeder Zyklus des Audio-Verarbeitungsalgorithmus
sollte nur den Zustandsdaten des entsprechenden Pakets ber&#x00FC;cksichtigen m&#x00FC;ssen. Werden die
Zustandsdaten durch den Verarbeitungsalgorithmus ge&#x00E4;ndert m&#x00FC;ssen sie an das Audio
Plug-in zur&#x00FC;ck gesendet. Damit soll sichergestellt werden, dass ein Rechenknoten zu jeder
Zeit in ein laufendes Session einspringen ohne etwas &#x00FC;ber vorherrige Events wissen zu
m&#x00FC;ssen. Es hat auch den zus&#x00E4;tzlichen Vorteil, dass ein Verarbeitungsknoten in der Lage
w&#x00E4;re, Auftr&#x00E4;ge f&#x00FC;r mehrere Instanzen eines bestimmten Plug-ins verarbeiten zu
k&#x00F6;nnen.<br 
class="newline" /><br 
class="newline" />Die Rechenknoten m&#x00FC;ssen die folgenden Anforderungen erf&#x00FC;hlen:
     <ul class="itemize1">
     <li class="itemize">gibt  seine  Verf&#x00FC;gbarkeit  und  Standort  im  Netzwerk  via  Bonjour  /  Zeroconf
     bekannt
     </li>
     <li class="itemize">akzeptiert Steuerdaten von der Audio Plug-in
     </li>
     <li class="itemize">verarbeitet eingehende Audiodaten und MIDI-Daten von der Audio Plug-in.
     </li>
     <li class="itemize">schickt die verarbeitende Daten sofort an das Audio Plug-in zur&#x00FC;ck.
     </li></ul>
<!--l. 1--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.5    </span> <a 
 id="x1-180003.5"></a>Software Requirements</h3>
<!--l. 3--><p class="noindent" >In Echtzeit-Audio-Anwendungen das Einhalten zeitlicher Vorgaben ist kritisch. Dies mag
selbstverst&#x00E4;ndlich klingen, aber f&#x00FC;r einen Programmierer bedeutet es den Verzicht auf viele
Komforten der modernen Programmierung, besonders das Arbeiten mit High-Level
Programmier-Sprachen wie Java oder Python. Echzeit-Audio ist ein ”Hard Realtime”
Aufgabe und daf&#x00FC;r eignen sich nur Low-Level Sprachen wie C oder C++. Auch die meisten
Audio-Anwendungsschnittstellen und Bibliotheken wie die VST SDK sind f&#x00FC;r C/C
++.
                                                                  

                                                                  
<!--l. 5--><p class="indent" >   Professionelle Audio-Anwendungen laufen in der Regel auf Mac OSX oder
Windows-Betriebssysteme, daher muss der Audio Plug-in auf diesen Systemen Kompilierbar
sein. Die Rechenknoten, welche auf den SBC-Ger&#x00E4;te laufen, m&#x00FC;ssen f&#x00FC;r Linux Kompilierbar
sein. Doch beide Anwendungen sollten ein gross teil ihre Quellcode teilen k&#x00F6;nnen, da ihre
Aufgaben sich grossteils &#x00FC;berschneiden.
<!--l. 7--><p class="indent" >   Es gibt viele C ++ Bibliotheken und Frameworks, welche Cross-Plattform-Kompatibilit&#x00E4;t
erm&#x00F6;glichen und nebenbei auch den Programmierer Zugriff auf High-Level Konstrukte wie
automatischen Speicherbereinigung mittels intelligente Zeiger und Referenzz&#x00E4;hlung, die das
Programmieren in C++ einfacher machen.
<!--l. 9--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.5.1    </span> <a 
 id="x1-190003.5.1"></a>Evaluierte C++ Frameworks</h4>
<!--l. 11--><p class="noindent" >Boost ist die beliebteste plattform&#x00FC;bergreifende C ++ Framework. Viele Boost
Funktionalit&#x00E4;ten wurden sogar in die C ++ 11 Standard-Bibliothek hinzugef&#x00FC;gt. Andere
Frameworks wie Cinder und Open Frameworks bieten viele High-Level Funktionen, um
schnell interaktive medien-reiche Anwendungen zu programmieren. Zwei Bibliotheken die
hervorzuheben sind, JUCE und WDL, beiten besonders f&#x00FC;r Audio Plug-ins und
DAW-Anwendungen zugeschnittene Funktionen und Klassen. Von diesen beiden hat Juce
eine viel gr&#x00F6;&#x00DF;ere Benutzergemeinschaft (einschlie&#x00DF;lich Anbieter von DSP-basierten
Audio-Coprozessoren). <br 
class="newline" /><br 
class="newline" />Software Framework Kriteria:
     <ul class="itemize1">
     <li class="itemize">Plattform&#x00FC;bergreifend f&#x00FC;r OSX, Linux und Windows
     </li>
     <li class="itemize">Bietet Hohe Konstrukte wie intelligente Zeiger
     </li>
     <li class="itemize">Unterst&#x00FC;tzung f&#x00FC;r plattform&#x00FC;bergreifende Audiointegration
     </li>
     <li class="itemize">Sollte gut dokumentiert sein und eine aktive Benutzergemeinschaft haben
     </li>
     <li class="itemize">Bietet plattform&#x00FC;bergreifende Netzwerkzugriff
     </li></ul>
   <div class="table">
                                                                  

                                                                  
<!--l. 27--><p class="indent" >   <hr class="float"><div class="float" 
>
                                                                  

                                                                  
<div class="center" 
>
<!--l. 28--><p class="noindent" >
<div class="tabular"> <table id="TBL-2" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1"></colgroup><colgroup id="TBL-2-2g"><col 
id="TBL-2-2"></colgroup><colgroup id="TBL-2-3g"><col 
id="TBL-2-3"></colgroup><colgroup id="TBL-2-4g"><col 
id="TBL-2-4"></colgroup><colgroup id="TBL-2-5g"><col 
id="TBL-2-5"></colgroup><colgroup id="TBL-2-6g"><col 
id="TBL-2-6"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-1-1"  
class="td11"><!--l. 31--><p class="noindent" >Framework                </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-1-2"  
class="td11"><!--l. 31--><p class="noindent" >High
Level
Utilities    </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-1-3"  
class="td11"><!--l. 31--><p class="noindent" >Audio
Utilities    </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-1-4"  
class="td11"><!--l. 31--><p class="noindent" >Network
Utilities    </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-1-5"  
class="td11"><!--l. 31--><p class="noindent" >VST
Utilities    </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-1-6"  
class="td11"><!--l. 31--><p class="noindent" >Community </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-1"  
class="td11"><!--l. 33--><p class="noindent" >JUCE                          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-2"  
class="td11"><!--l. 33--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-3"  
class="td11"><!--l. 33--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-4"  
class="td11"><!--l. 33--><p class="noindent" >ja<a 
 id="fn2x4-bk"> <span class="MsoFootnoteReference"><sup class="textsuperscript">2</sup></span></a>             </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-5"  
class="td11"><!--l. 33--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-6"  
class="td11"><!--l. 33--><p class="noindent" >gross         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-3-1"  
class="td11"><!--l. 34--><p class="noindent" >WDL                          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-3-2"  
class="td11"><!--l. 34--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-3-3"  
class="td11"><!--l. 34--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-3-4"  
class="td11"><!--l. 34--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-3-5"  
class="td11"><!--l. 34--><p class="noindent" >ja<a 
 id="fn3x4-bk"> <span class="MsoFootnoteReference"><sup class="textsuperscript">3</sup></span></a>             </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-3-6"  
class="td11"><!--l. 34--><p class="noindent" >klein         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-1"  
class="td11"><!--l. 35--><p class="noindent" >Open Frameworks      </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-2"  
class="td11"><!--l. 35--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-3"  
class="td11"><!--l. 35--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-4"  
class="td11"><!--l. 35--><p class="noindent" >ja<a 
 id="fn4x4-bk"> <span class="MsoFootnoteReference"><sup class="textsuperscript">4</sup></span></a>             </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-5"  
class="td11"><!--l. 36--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-6"  
class="td11"><!--l. 36--><p class="noindent" >gross         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-1"  
class="td11"><!--l. 37--><p class="noindent" >Boost                          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-2"  
class="td11"><!--l. 37--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-3"  
class="td11"><!--l. 37--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-4"  
class="td11"><!--l. 37--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-5"  
class="td11"><!--l. 37--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-6"  
class="td11"><!--l. 37--><p class="noindent" >gross         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-1"  
class="td11"><!--l. 38--><p class="noindent" >Cinder                        </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-2"  
class="td11"><!--l. 38--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-3"  
class="td11"><!--l. 38--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-4"  
class="td11"><!--l. 38--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-5"  
class="td11"><!--l. 38--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-6"  
class="td11"><!--l. 38--><p class="noindent" >klein         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-7-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-7-1"  
class="td11"><!--l. 39--><p class="noindent" >LibSourcey                 </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-7-2"  
class="td11"><!--l. 39--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-7-3"  
class="td11"><!--l. 39--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-7-4"  
class="td11"><!--l. 39--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-7-5"  
class="td11"><!--l. 39--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-7-6"  
class="td11"><!--l. 39--><p class="noindent" >nein          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-8-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-8-1"  
class="td11"><!--l. 40--><p class="noindent" >Qt                               </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-8-2"  
class="td11"><!--l. 40--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-8-3"  
class="td11"><!--l. 40--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-8-4"  
class="td11"><!--l. 40--><p class="noindent" >ja              </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-8-5"  
class="td11"><!--l. 40--><p class="noindent" >nein          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-8-6"  
class="td11"><!--l. 40--><p class="noindent" >gross         </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-9-"><td  style="white-space:wrap; text-align:left;" id="TBL-2-9-1"  
class="td11">               </td></tr></table></div></div>
                                                                  

                                                                  
   </div><hr class="endfloat" />
   </div>
<!--l. 46--><p class="indent" >   Auf Grundlage der Kriterien Vergleich und fr&#x00FC;heren Erfahrungen bei andere Projekten
wurde f&#x00FC;r diese Projekte JUCE f&#x00FC;r die Implementierung ausgew&#x00E4;hlt.
                                                                  

                                                                  
   <h2 class="chapterHead"><span class="titlemark">Chapter 4</span><br /><a 
 id="x1-200004"></a>Implementation</h2>
   <h3 class="sectionHead"><span class="titlemark">4.1    </span> <a 
 id="x1-210004.1"></a>Architecture</h3>
<!--l. 3--><p class="noindent" >Abbildung <a 
href="#x1-21001r1">4.1<!--tex4ht:ref: fig:arch_01 --></a> zeigt einen &#x00DC;berblick &#x00FC;ber die Audioverarbeitungsumgebung. Der Benutzer
des Systems arbeitet mit der DAW-Anwendung welches auf dem Host-CPU l&#x00E4;uft, und kann
einen Audio Plug-in auf eine bestimmte Audiospur aktivieren. Ein einzelner Audio Plug-in
kann einer oder mehrere Audio Prozessoren enthalten. Prozessoren, die f&#x00E4;hig sind ihre
Aufgaben zu Verteilen suchen nach einem entsprechenden Rechenknoten auf einem
Vernetztes SBC-Ger&#x00E4;t.
<!--l. 5--><p class="indent" >   Die Ger&#x00E4;te werden &#x00FC;ber Gigabit-Ethernet vernetzt. Es wird angenommen, dass das
Netzwerk nicht f&#x00FC;r sonstiges signifikanten Verkehr ben&#x00FC;tzt werden.
<!--l. 7--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-21001r1"></a>
                                                                  

                                                                  
<!--l. 9--><p class="noindent" ><img 
src="main_de8x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="main_de8x.png" src="assets/architecture_01.pdf"  
-->
<br /> <div class="caption" 
><span class="id">Figure 4.1: </span><span  
class="content">Architectural &#x00DC;berblick</span></div><!--tex4ht:label?: x1-21001r1 -->
                                                                  

                                                                  
<!--l. 12--><p class="indent" >   </div><hr class="endfigure">
   <h4 class="subsectionHead"><span class="titlemark">4.1.1    </span> <a 
 id="x1-220004.1.1"></a>Host CPU</h4>
<!--l. 3--><p class="noindent" >Abbildung <a 
href="#x1-22001r2">4.2<!--tex4ht:ref: fig:arch_02 --></a> zeigt die Komponenten welche f&#x00FC;r Echtzeit-Audio auf der CPU ben&#x00F6;tigt
werden. Audio-Hardware ben&#x00F6;tigt, einen kontinuierliches genau-getaktetes Datenstrom um
es den Digital-Analog-Wandlern bereitzustellen. Dies geschieht durch periodisches Abfragen
des Betriebssystems &#x00FC;ber die Hardware-Interrupts. Die angeforderte Puffergr&#x00DF;e kann wenige
Abtastwerte beinhalten und die Abfrageintervall weniger als 1 ms. Dies ist abh&#x00E4;ngig von der
ben&#x00FC;tzten Hardware und der Audio-Treiber.
<!--l. 5--><p class="indent" >   Das Betriebssystem bietet eine Abstraktionsschicht in Form einer API f&#x00FC;r die
Anwendungssoftware. Dies gibt der Anwendungs-Software einer einheitlichen Schnittstelle,
unabh&#x00E4;ngig von der Marke der Audio-Hardware und Treiber.
<!--l. 7--><p class="indent" >   Das VST-API ist eine weitere Abstraktionsschicht, die weiderum eine einheitliche
Schnittstelle f&#x00FC;r Plugin-Anbieter anbietet, unabh&#x00E4;ngig von der OS. Aber VST ist nicht die
einzige Plugin API. Die JUCE Bibliothek bietet einen eigenen Plugin-API, die einfacher ist
und abstrahiert die Unterschiede zwischen verschiedene Plugin-APIs.
<!--l. 9--><p class="indent" >   Die Datenanabfrage, ausgel&#x00F6;st duch Interrupts von der Audio-Hardware, werden durch
das Betriebssystems an die DAW-Anwendung durch R&#x00FC;ckruffunktionen weitergeleitet. Das
DAW hat zuvor, beim aufstarten, die entsprechende R&#x00FC;ckrufffunktionen an das
Betriebssystems registriert. Die DAW-Anwendung wiederum lietet die Datenabfrage,
ebenfalls duch die vom VST Spzifizierten R&#x00FC;ckruffunktionen an alle aktiven Plug-ins
weiter.
<!--l. 11--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-22001r2"></a>
                                                                  

                                                                  
<!--l. 13--><p class="noindent" ><img 
src="main_de9x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="main_de9x.png" src="assets/architecture_02.pdf"  
-->
<br /> <div class="caption" 
><span class="id">Figure 4.2: </span><span  
class="content">Host CPU &#x00DC;berblick</span></div><!--tex4ht:label?: x1-22001r2 -->
                                                                  

                                                                  
<!--l. 16--><p class="indent" >   </div><hr class="endfigure">
<!--l. 18--><p class="indent" >   Die f&#x00FC;r dieses Projekt umgesetztes Audio Plug-in hat mehrere Netzwerkprozessoren
aktiviert, in Abbildung <a 
href="#x1-22001r2">4.2<!--tex4ht:ref: fig:arch_02 --></a> wird nur eine dargestellt als Beispiel. Wenn das Plug-in von der
Host-Software instanziiert wird, instanziiert es weiderum jeder seiner internen Prozessoren.
Die Prozessoren rufen je den Bonjour / Zeroconf-Daemon des Betriebssystems auf, um eine
passende im Netzwerk registriertes Rechenknoten zu finden. Der Aufruf &#x00FC;bergibt das
Daemon eine Socket &#x00FC;ber eine benachrichtigung zur&#x00FC;ck schicken kann wenn es einen
passendes Service im Netzwerk gefunden hat.
<!--l. 20--><p class="indent" >   Die Bonjour / Zeroconf-Daemon &#x00FC;bergibt dem Audio Plug-in mittels der Socket einer
Liste der gefundenen Services. Die Audio Plug-in durchsucht die Liste nach einer freien
Rechenkonten. Das ausgew&#x00E4;hlter Rechenknoten wird in das ”activeNode” Variable
gespeichert.
<!--l. 22--><p class="indent" >   Wenn eine Anfrage f&#x00FC;r Audio-Daten von der DAW-Anwendung an das Plugin &#x00FC;bergeben
wird, dann wird der ”processBlock” Funktion des Plugins aufgerufen. Das Plugin ruft
wiederum die ”processBlock” Funktionen jedes seiner internen Audio Prozessoren
nacheinander. In Abbildung <a 
href="#x1-22001r2">4.2<!--tex4ht:ref: fig:arch_02 --></a> wird dies vereinfacht dargestellt, mit der ”processBlock”
Funktion von einem einzigen Audio Prozessor. Der ”processBlock” Funktion wird einen
Referenz auf die aktuelle zu verarbeiten Audiopuffer und MIDI-Puffer &#x00FC;bergegeben. Der
Audiopuffer enth&#x00E4;lt die einzelnen Audioabtastungen f&#x00FC;r jeden Kanal als Float-Werte. Die
MIDI-Puffer enth&#x00E4;lt Performance-Daten wie der Eintrittszeit und Tonh&#x00F6;he der gespielten
Noten.
<!--l. 24--><p class="indent" >   Innerhalb der ”processBlock” Funktion pr&#x00FC;ft der Prozessor, ob ein Rechenknoten im
”activeNode” gespeichert ist. Wenn ja, dann leitet er sofort die MIDI- und Audiodaten sowie
die eigene Zustandsdaten an die Rechenknoten und wartet auf die Antwort. Wenn die
Antwort eintrifft werden die Daten zur&#x00FC;ck in die entsprechende Puffer kopiert. Die
DAW-Anwendung geht dann weiter die n&#x00E4;chsten Plug-ins abfragen, bis die gesamte
Verarbeitungskette abgeschlossen ist. Die resultierenden Puffer wird an die Audiohardware
&#x00FC;ber die HAL API geschickt.
   <h4 class="subsectionHead"><span class="titlemark">4.1.2    </span> <a 
 id="x1-230004.1.2"></a>Vernetzte SBCs</h4>
<!--l. 3--><p class="noindent" >Abbildung <a 
href="#x1-23001r3">4.3<!--tex4ht:ref: fig:arch_03 --></a> zeigt die Komponenten der vernetzten SBC-Ger&#x00E4;te. Eine Verarbeitungsanwendung
kann eine beliebige Anzahl von Prozessoren erhalten, die jeweils ihre Dienste &#x00FC;ber den
Zeroconf/Bonjour-Daemon im Netzwerk anbieten. Das Zeroconf/Bonjou-Daemon wird als
teil des Betriebsystems hier dargestellt. Die Zeroconf/Bonjour-Daemon sendet die
Verf&#x00FC;gbarkeit, der Verarbeitung-Art und die Portnummern von jedem der verf&#x00FC;gbaren
Prozessoren.
<!--l. 5--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                  

                                                                  
<a 
 id="x1-23001r3"></a>
                                                                  

                                                                  
<!--l. 7--><p class="noindent" ><img 
src="main_de10x.png" alt="PIC" class="graphics"><!--tex4ht:graphics  
name="main_de10x.png" src="assets/architecture_03.pdf"  
-->
<br /> <div class="caption" 
><span class="id">Figure 4.3: </span><span  
class="content">SBC Processor &#x00DC;berblick</span></div><!--tex4ht:label?: x1-23001r3 -->
                                                                  

                                                                  
<!--l. 10--><p class="indent" >   </div><hr class="endfigure">
<!--l. 12--><p class="indent" >   Der Prozessor &#x00FC;bergibt eine offene Socket an einen Socket-Monitor und registriert
sich als dazugeh&#x00F6;rende Socket-Zuh&#x00F6;rer-Objekt. Die Socket-Monitor besitzt eine
Reihe von Sockets und einen Verweis auf jeden Zuh&#x00F6;rer. Es f&#x00FC;hrt eine ”select”
Funktion auf der Reihe von Socket und wartet. Wenn Daten an einem der Sockets
eintreffen, erwacht der ”select” Funktion und der Socket Monitor benachrichtigt den
entsprechenden Socket-Zuh&#x00F6;rer-Objekte &#x00FC;ber eine R&#x00FC;ckruffunktion, das Daten zu verf&#x00FC;gung
stehen.
<!--l. 14--><p class="indent" >   Der entsprechende Prozessor wird &#x00FC;ber die R&#x00FC;ckruffunktion benachrichtigt, liest die
Daten, entpackt die Audio-, Zustands- und MIDI-Daten, und f&#x00FC;hrt den processBlock
Funktion aus. Die Ergebnisse und aktualisierte Zustandsinformation werden am Sender
zur&#x00FC;ck geschickt.
   <h3 class="sectionHead"><span class="titlemark">4.2    </span> <a 
 id="x1-240004.2"></a>Software Komponenten</h3>
<!--l. 3--><p class="noindent" >Die Anwendung ist in Komponenten (Klassen) aufgebaut welche jeweils die Verantwortung
f&#x00FC;r einen Teilbereich entkapselt. Jedes Modul wurde in einem ”pseudo Test Driven”
Methodik entwickelt. Die Tests wurden nicht zwingenderweise entwickelt, bevor der
entsprechende Code geschrieben wurde, aber auf jeden Fall kurz danach. Dies f&#x00FC;hrte zu
stabilen Code, dass in jeder Iteration gepr&#x00FC;ft werden konnte, isoliert von anderen
Komponenten.
<!--l. 5--><p class="indent" >   Die Interaktion mit einer Klasse wird in einer dazugeh&#x00F6;renden ”Zuh&#x00F6;hrer” Klasse
definiert. In der ”Zuh&#x00F6;hrer” Klasse sind R&#x00FC;ckruffunkionen spezifiziert, die einer
Client-Klasse zu implementieren hat. Ein Client-Klasse kann von der Listener-Klasse erben
und die R&#x00FC;ckruffunktionen &#x00FC;berladen.
   <h4 class="subsectionHead"><span class="titlemark">4.2.1    </span> <a 
 id="x1-250004.2.1"></a>Socket Monitor</h4>
<!--l. 3--><p class="noindent" >Die Monitor-Klasse wurde entwickelt, um Sockets effizient zu verwalten. Client-Klassen
erben von der FileDescriptorListener Klasse, um benachrichtet zu werden, wenn Daten
verf&#x00FC;gbar sind auf einer dazugeh&#x00F6;rendes Socket.
<!--l. 5--><p class="indent" >   Die Monitor-Klasse hat einen Thread, welches eine select-Funktion aufruft. Die
select-funktion wird einen Array von Sockets als Filedescriptors &#x00FC;bergeben, dann
blockiert es. Sobald Daten auf einer der Sockets eintreffen, fird die select-Funktion
wieter fahren. Der Thread geht pr&#x00FC;fft in einer Schleife alle Filedescriptors bis er das
richtige gefunden hat und benachrichtigt das entsprechende FileDescriptorListener
Objekt.
<!--l. 7--><p class="indent" >   Eine der Sockets welches an die select-Funktion &#x00FC;bergeben wird der Monitor-Klasse
eigenen control_listener Socket. Die Monitor-Klasse kann ein Signal an dieser Socket
schicken, um den blockierten Thread aus dem select-Funktion zu wecken und den
Zustand aktualisieren. Die Monitor-Klasse tut dies, wenn eine neue Client sich
registriert bzw. sich entfernt, und wenn der Monitor-Klasse heruntergefahren werden
muss.
                                                                  

                                                                  
   <h4 class="subsectionHead"><span class="titlemark">4.2.2    </span> <a 
 id="x1-260004.2.2"></a>ZeroconfManager</h4>
<!--l. 3--><p class="noindent" >Zeroconf (kurz f&#x00FC;r Zero Configuration Netzwerk- und auch als Bonjour auf OSX bekannt) ist
einer Technologie, die es einen Softwaredienstleistung erlaubt ihre Verf&#x00FC;gbarkeit und
Standort &#x00FC;ber einen Netzwerk bekannt zu machen. Drucker und Multimedia-Ger&#x00E4;te
verwenden Zeroconf z.B., damit sie f&#x00FC;r andere Netzwerkteilnehmer leicht zu finden und
nutzen sind.
<!--l. 5--><p class="indent" >   Bonjour auf OSX und den compatibile Funktionen von Avahi unter Linux definieren eine
R&#x00FC;ckruff-basiertes API, die zu einem Bonjour oder avahi Daemon auf dem OS-Schnittstellen.
Die Bonjour-API ist in C. Die ZeroConfManager Klasse kapselt die Kommunikation an die
bonjour oder avahi Daemon in einer objektorientierten Weise. Clients, die mit dieser Klasse
Schnittstelle muss zu erweitern und &#x00FC;berschreiben Sie die ZeroConfListener Klasse m&#x00F6;chten,
sich zu registrieren, sie mit der Klasse zusammen mit der Service-Tag f&#x00FC;r sie erh&#x00E4;ltlich
sind.
   <h4 class="subsectionHead"><span class="titlemark">4.2.3    </span> <a 
 id="x1-270004.2.3"></a>DiauproMessage</h4>
<!--l. 3--><p class="noindent" >Die DiauproMessage Klasse verwaltet die Serialisierung und Deserialisierung von Daten zu,
beziehungsweise von, Datagramm-Pakete. Die Datagramme selbst bestehen aus einer Header
mit festen L&#x00E4;nge, und Nutzdaten mit variable L&#x00E4;nge, welche die Audio-, MIDI- und
Zustanddaten enth&#x00E4;lt.<br 
class="newline" /><br 
class="newline" />Der Header wird wie folgt definiert:
   <!--l. 7-->
   <div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-27001r1"></a></span><span 
class="ptmr7t-x-x-80">struct</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">diapro</span><span 
class="ptmr7t-x-x-80">_header</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27002r2"></a></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">uint16</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sequenceNumber</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27003r3"></a></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">uint16</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">numSamples</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27004r4"></a></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">uint16</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">numChannels</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27005r5"></a></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">double</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sampleRate</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27006r6"></a></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">uint16</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">audioDataSize</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27007r7"></a></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">uint16</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">midiDataSize</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27008r8"></a></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">uint16</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">stateDataSize</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27009r9"></a></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">double</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">cpuUsage</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-27010r10"></a></span><span 
class="cmsy-8">}</span><span 
class="ptmr7t-x-x-80">;</span>
   
   </div>
<!--l. 20--><p class="indent" >   Die DiaproMessage Klasse bem&#x00FC;ht sich, bestehende zugewiesenen Speicher zu
verwenden, wenn m&#x00F6;glich. Instanzen DiauproMessage sollte nicht alloziert werden in den
Thread, der die Audio-Verarbeitungsroutinen aufruft. Sie sollten lieber voralloziert werden
mit gen&#x00FC;gend Speicher, um einen UPD Datagram mit maximale Gr&#x00F6;&#x00DF;e (64 KB)
zu speichern. Dieser Instanz soll dann f&#x00FC;r jeden Aufruf-Zyklus wiederverwendet
werden damit Speicher nicht neu alloziert werden muss w&#x00E4;hrend der Zeit kritische
Prozess.
   <h4 class="subsectionHead"><span class="titlemark">4.2.4    </span> <a 
 id="x1-280004.2.4"></a>DiauproProcessor</h4>
<!--l. 3--><p class="noindent" >Die DiauproProcessor-Klasse ist die Basisklasse, von der anderen Prozessoren erben sollen.
Die DiauproProcessor-Klasse erbt wiederum von der JUCE Audioprocessor-Klasse, die
alle Funktionen der verschiedenen Audio-Plugin-Formate kapselt. Klassen, die
von Audioprocessor erben k&#x00F6;nnen direkt in ein VST-Plugin gewickelt (wrapped)
werden.
<!--l. 5--><p class="indent" >   Eine Klasse, die von DiauproProcessor erbt muss die Funktionen ”localProcess” und
”getServiceTag” &#x00FC;berladen. Die ”localProcess” Funktion f&#x00FC;hrt die Audio-Verarbeitung aus.
                                                                  

                                                                  
”getServiceTag” gibt einer Zeichenfolge zur&#x00FC;ck, die verwendet wird, um seine Dienste im
Netzwerk bekannt zu machen oder danach zu suchen.
<!--l. 7--><p class="indent" >   Klassen, die von DiauproProcessor erben k&#x00F6;nnen instanziert und eingerichtet werden so,
dass sie entweder in der Audio Plug-in oder in der Rechenknoten laufen. Im Plug-in ausf&#x00FC;hrt
wird es ein entsprechendes Rechenknoten im Netzwerk suchen. Falls nichts passendes
gefunden wird, wird das ”localProcess” Funktion lokal verwendet. Es sie finden eine
vernetzte Service f&#x00FC;r alle ankommenden Audio- und MIDI-Daten werden auf diesen Dienst
weitergeleitet.
<!--l. 9--><p class="indent" >   Wenn in einem Rechenknoten ausgef&#x00FC;hrt, werden Klassen, die von DiauproProcessor erben
sich im Netzwerk anmelden und warten, um ankommende Verarbeitungsanforderungen.
<!--l. 11--><p class="indent" >   Beispiele f&#x00FC;r Klassen, die von DiauproProcessor erben sind DiauproVCOProcessor und
DiauproVCAProcessor. Sie werden unten in Detail beschrieben.
   <h4 class="subsectionHead"><span class="titlemark">4.2.5    </span> <a 
 id="x1-290004.2.5"></a>DiauproVCOProcessor</h4>
<!--l. 3--><p class="noindent" >Die DiauproVCOProcessor erbt von DiauproProcessor und implementiert die Oszillatorblock
eines virtuellen synthsizer. Es erzeugt einen Klang in der Tonh&#x00F6;he einen gespielten
MIDI-Note. Die einzigen Funktionen aus DiauproProcessor, die &#x00FC;berladen werden m&#x00FC;ssen,
sind ”localProcess”, ”getState”, ”getStateSize” und ”getServiceTag”.
<!--l. 5--><p class="indent" >   ”localProcess” wird wie folgt implementiert: <!--l. 6-->
   <div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-29001r1"></a><span 
class="ptmr7t-x-x-80">1</span></span><span 
class="ptmr7t-x-x-80">void</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">DiauproVCOProcessor</span><span 
class="ptmr7t-x-x-80">::</span><span 
class="ptmr7t-x-x-80">localProcess</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">AudioSampleBuffer</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">&amp;</span><span 
class="ptmr7t-x-x-80">buffer</span><span 
class="ptmr7t-x-x-80">,</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29002r2"></a><span 
class="ptmr7t-x-x-80">2</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">MidiBuffer</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">&amp;</span><span 
class="ptmr7t-x-x-80">midiMessages</span><span 
class="ptmr7t-x-x-80">,</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29003r3"></a><span 
class="ptmr7t-x-x-80">3</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">void</span><span 
class="cmsy-8">*</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">state</span><span 
class="ptmr7t-x-x-80">)</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29004r4"></a><span 
class="ptmr7t-x-x-80">4</span></span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29005r5"></a><span 
class="ptmr7t-x-x-80">5</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">*</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">vco</span><span 
class="ptmr7t-x-x-80">_state</span><span 
class="cmsy-8">*</span><span 
class="ptmr7t-x-x-80">)</span><span 
class="ptmr7t-x-x-80">state</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29006r6"></a><span 
class="ptmr7t-x-x-80">6</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">int</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sampleNr</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29007r7"></a><span 
class="ptmr7t-x-x-80">7</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">int</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">nextEventCount</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">-</span><span 
class="ptmr7t-x-x-80">1;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29008r8"></a><span 
class="ptmr7t-x-x-80">8</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">MidiBuffer</span><span 
class="ptmr7t-x-x-80">::</span><span 
class="ptmr7t-x-x-80">Iterator</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">midiEventIterator</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">midiMessages</span><span 
class="ptmr7t-x-x-80">);</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29009r9"></a><span 
class="ptmr7t-x-x-80">9</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">MidiMessage</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">nextEvent</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29010r10"></a><span 
class="ptmr7t-x-x-80">10</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">bool</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">hasEvent</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29011r11"></a><span 
class="ptmr7t-x-x-80">11</span></span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29012r12"></a><span 
class="ptmr7t-x-x-80">12</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">for</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">sampleNr</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">0;</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sampleNr</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmmi-8">&#x003C;</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">buffer</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">getNumSamples</span><span 
class="ptmr7t-x-x-80">();</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sampleNr</span><span 
class="ptmr7t-x-x-80">++)</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29013r13"></a><span 
class="ptmr7t-x-x-80">13</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29014r14"></a><span 
class="ptmr7t-x-x-80">14</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">if</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">nextMidiEventCount</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmmi-8">&#x003C;</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sampleNr</span><span 
class="ptmr7t-x-x-80">)</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29015r15"></a><span 
class="ptmr7t-x-x-80">15</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29016r16"></a><span 
class="ptmr7t-x-x-80">16</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">hasEvent</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">midiEventIterator</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">getNextEvent</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">nextEvent</span><span 
class="ptmr7t-x-x-80">,</span><span 
class="ptmr7t-x-x-80">nextEventCount</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">)</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29017r17"></a><span 
class="ptmr7t-x-x-80">17</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">}</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29018r18"></a><span 
class="ptmr7t-x-x-80">18</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">if</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">hasEvent</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">&amp;&amp;</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">nextEventCount</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">==</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sampleNr</span><span 
class="ptmr7t-x-x-80">)</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29019r19"></a><span 
class="ptmr7t-x-x-80">19</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29020r20"></a><span 
class="ptmr7t-x-x-80">20</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">if</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">nextEvent</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">isNoteOn</span><span 
class="ptmr7t-x-x-80">())</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29021r21"></a><span 
class="ptmr7t-x-x-80">21</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29022r22"></a><span 
class="ptmr7t-x-x-80">22</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">voice</span><span 
class="ptmr7t-x-x-80">_count</span><span 
class="ptmr7t-x-x-80">++;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29023r23"></a><span 
class="ptmr7t-x-x-80">23</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">frequency</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">MidiMessage</span><span 
class="ptmr7t-x-x-80">::</span><span 
class="ptmr7t-x-x-80">getMidiNoteInHertz</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">nextEvent</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">getNoteNumber</span><span 
class="ptmr7t-x-x-80">());</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29024r24"></a><span 
class="ptmr7t-x-x-80">24</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">double</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">cyclesPerSample</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">frequency</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">/</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">getSampleRate</span><span 
class="ptmr7t-x-x-80">();</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29025r25"></a><span 
class="ptmr7t-x-x-80">25</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">step</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">cyclesPerSample</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">*</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">2.0</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">*</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">double</span><span 
class="ptmr7t-x-x-80">_Pi</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29026r26"></a><span 
class="ptmr7t-x-x-80">26</span></span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29027r27"></a><span 
class="ptmr7t-x-x-80">27</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">}</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">else</span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29028r28"></a><span 
class="ptmr7t-x-x-80">28</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">voice</span><span 
class="ptmr7t-x-x-80">_count</span><span 
class="cmsy-8">-</span><span 
class="cmsy-8">-</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29029r29"></a><span 
class="ptmr7t-x-x-80">29</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">}</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29030r30"></a><span 
class="ptmr7t-x-x-80">30</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">}</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29031r31"></a><span 
class="ptmr7t-x-x-80">31</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">if</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">voice</span><span 
class="ptmr7t-x-x-80">_count</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmmi-8">&#x003E;</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">0)</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29032r32"></a><span 
class="ptmr7t-x-x-80">32</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29033r33"></a><span 
class="ptmr7t-x-x-80">33</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">const</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">float</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">currentSample</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">float</span><span 
class="ptmr7t-x-x-80">)</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">sin</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">phase</span><span 
class="ptmr7t-x-x-80">)</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">*</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">level</span><span 
class="ptmr7t-x-x-80">);</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29034r34"></a><span 
class="ptmr7t-x-x-80">34</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">phase</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">+=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">processState</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">step</span><span 
class="ptmr7t-x-x-80">;</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29035r35"></a><span 
class="ptmr7t-x-x-80">35</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">for</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">int</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">i</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">0;</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">i</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmmi-8">&#x003C;</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">buffer</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">getNumChannels</span><span 
class="ptmr7t-x-x-80">();</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">i</span><span 
class="ptmr7t-x-x-80">++)</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29036r36"></a><span 
class="ptmr7t-x-x-80">36</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">{</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29037r37"></a><span 
class="ptmr7t-x-x-80">37</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">float</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">oldSample</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">=</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">buffer</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">getSample</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">i</span><span 
class="ptmr7t-x-x-80">,</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sampleNr</span><span 
class="ptmr7t-x-x-80">);</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29038r38"></a><span 
class="ptmr7t-x-x-80">38</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">buffer</span><span 
class="ptmr7t-x-x-80">.</span><span 
class="ptmr7t-x-x-80">setSample</span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">i</span><span 
class="ptmr7t-x-x-80">,</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">sampleNr</span><span 
class="ptmr7t-x-x-80">,</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">(</span><span 
class="ptmr7t-x-x-80">currentSample</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">+</span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80">oldSample</span><span 
class="ptmr7t-x-x-80">)</span><span 
class="cmsy-8">*</span><span 
class="ptmr7t-x-x-80">0.5);</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29039r39"></a><span 
class="ptmr7t-x-x-80">39</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">}</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29040r40"></a><span 
class="ptmr7t-x-x-80">40</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">}</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29041r41"></a><span 
class="ptmr7t-x-x-80">41</span></span><span 
class="ptmr7t-x-x-80"> </span><span 
class="ptmr7t-x-x-80"> </span><span 
class="cmsy-8">}</span><span 
class="ptmr7t-x-x-80"> </span><br /><span class="label"><a 
 id="x1-29042r42"></a><span 
class="ptmr7t-x-x-80">42</span></span><span 
class="cmsy-8">}</span>
   
   </div>
<!--l. 51--><p class="noindent" >Wenn die Funktion aufgerufen wird, wird die aktuelle Audio-Puffer &#x00FC;bergeben, ein Puffer
von MIDI-Events f&#x00FC;r den korespondierende Zeitrahmen, und ein Zeiger auf einen Block von
Daten, die verwendet werden, um den Zustand zu speichern, damit es zwischen Aufrufen
beibehalten werden.
<!--l. 54--><p class="indent" >   Wird diese Funktion innerhalb eines Rechenknotens ausgef&#x00FC;hrt dann werden Audio-,
MIDI- und Zustandsdaten aus einem DiauproMessage, als UDP-Paket von der
Master-Audio-Plugin gesendet, entnommen.
<!--l. 56--><p class="indent" >   Im obigen Beispiel wird einer Sinuswelle generiert, indem die Sinus Wert f&#x00FC;r jedes
Element in der Audio-Puffer berechnet wird.
   <h4 class="subsectionHead"><span class="titlemark">4.2.6    </span> <a 
 id="x1-300004.2.6"></a>DiauproVCAProcessor</h4>
<!--l. 3--><p class="noindent" >Die DiauproVCAProcessor moduliert die Lautst&#x00E4;rke des Signals &#x00FC;ber Zeit. VCA ist die
Abk&#x00FC;rzung f&#x00FC;r Voltage Controlled Amplifier, dies bezieht sich auf den Verarbeitungsblock in
einer virtuellen Synthesizer, der f&#x00FC;r die ”Form” eines Klangs zust&#x00E4;ndig ist. Eine Glocke, zum
Beispiel, hat einen schnellen und lauten Anfangs-Ton, der &#x00FC;ber langen Zeitraum abklingt. Im
Gegensatz dazu ist ein Streicher Klang, wie eine Geige, hat, wenn sanft gespielt, eine
langsame Anfangs-Ton, der pl&#x00F6;tzlich endet. Die VCA ist f&#x00FC;r die Gestaltung der Amplitude
eines Klang zust&#x00E4;ndig.
                                                                  

                                                                  
   <h2 class="chapterHead"><span class="titlemark">Chapter 5</span><br /><a 
 id="x1-310005"></a>Conclusion</h2>
                                                                  

                                                                  
   <h2 class="chapterHead"><span class="titlemark">Chapter 6</span><br /><a 
 id="x1-320006"></a>Glossary</h2>
   <h4 class="likesubsectionHead"><a 
 id="x1-330006"></a>MIDI</h4>
<!--l. 4--><p class="noindent" >The Musical Instrument Digital Interface specification, first introduced in 1983 defines an
8-bit standard for encoding and transmitting music notes. It’s original purpose was to allow
one keyboard based synthesizer to controll other music devices.<span class="cite"> [<a 
href="#XBoulanger:2011">2</a>]</span> Allthough the
specification also describes the hardware and wiring for daisy chaining instruments in a midi
”network” most midi communication today transmitted via usb or virtually between audio
software.
<!--l. 6--><p class="noindent" >
   <h4 class="likesubsectionHead"><a 
 id="x1-340006"></a>Zeroconf</h4>
<!--l. 7--><p class="noindent" >Zeroconf is a network service discovery protocl. It is also known as Bonjour, and
occasionally refered to as Rendezvous, from the Apple implementations. Howl and Avahi are
alternative open source Zeroconf implementations for Linux. Application can use Zeroconf to
register or browse for service on a network without the need for a user to provide a specific IP
Adress or port number. <span class="cite"> [<a 
href="#Xzeroconf">4</a>]</span>
<!--l. 9--><p class="noindent" >
   <h4 class="likesubsectionHead"><a 
 id="x1-350006"></a>AES67</h4>
<!--l. 11--><p class="noindent" >
   <h4 class="likesubsectionHead"><a 
 id="x1-360006"></a>Latency</h4>
<!--l. 13--><p class="noindent" >
   <h4 class="likesubsectionHead"><a 
 id="x1-370006"></a>VST</h4>
<!--l. 14--><p class="noindent" >
   <h4 class="likesubsectionHead"><a 
 id="x1-380006"></a>SBC</h4>
<!--l. 15--><p class="noindent" >
   <h4 class="likesubsectionHead"><a 
 id="x1-390006"></a>AVB</h4>
                                                                  

                                                                  
   <h2 class="likechapterHead"><a 
 id="x1-400006"></a>Bibliography</h2>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 [1]<span class="bibsp">   </span></span><a 
 id="Xbouillot2009aes"></a>Nicolas Bouillot, Elizabeth Cohen, Jeremy R. Cooperstock, Andreas Floros,
   Nuno Fonseca, Richard Foss, Michael Goodman, John Grant, Kevin Gross, Steven
   Harris, Brent Harshbarger, Joffrey Heyraud, Lars Jonsson, John Narus, Michael
   Page, Tom Snook, Atau Tanaka, Justin Trieger, and Umberto Zanghieri. Aes white
   paper: Best practices in network audio. <span 
class="ptmri7t-">J. Audio Eng. Soc</span>, 57(9):729—741, 2009.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [2]<span class="bibsp">   </span></span><a 
 id="XBoulanger:2011"></a>Richard Boulanger and Victor Lazzarini.  <span 
class="ptmri7t-">The Audio Programming Book</span>.  The
   MIT Press, 2011.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [3]<span class="bibsp">   </span></span><a 
 id="Xbrandt1998low"></a>Eli  Brandt  and  Roger B  Dannenberg.    Low-latency  music  software  using
   off-the-shelf operating systems. 1998.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [4]<span class="bibsp">   </span></span><a 
 id="Xzeroconf"></a>Stuart Cheshire and Daniel H. Steinberg. <span 
class="ptmri7t-">Zero Configuration Networking: The</span>
   <span 
class="ptmri7t-">Definitive Guide</span>. O’Reilly Media, Inc., first edition edition, 2006.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [5]<span class="bibsp">   </span></span><a 
 id="Xvst-gpu"></a>Wolfgang Fohl and Julia Dessecker. Realtime computation of a vst audio effect
   plugin  on  the  graphics  processor.   In  <span 
class="ptmri7t-">CONTENT  2011,  The  Third  International</span>
   <span 
class="ptmri7t-">Conference on Creative Content Technologies,</span>, pages 58—62, 2011.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [6]<span class="bibsp">   </span></span><a 
 id="Xrealtime-architectures"></a>Vincent Goudard and Remy Muller.   Real-time audio plugin architectures, a
   comparative study. pages 10, 22, 9 2003.
   </p>
                                                                  

                                                                  
   <p class="bibitem" ><span class="biblabel">
 [7]<span class="bibsp">   </span></span><a 
 id="XAES67-2013"></a>AES Standards Committee Gross, Kevin. <span 
class="ptmri7t-">AES standard for audio applications</span>
   <span 
class="ptmri7t-">of networks - High-performance streaming audio-over-IP interoperability</span>.  Audio
   Engineering Society, Inc., 60 East 42nd Street, New York, NY., US., 2013.
   </p>
   <p class="bibitem" ><span class="biblabel">
 [8]<span class="bibsp">   </span></span><a 
 id="Xvirtual_analog_synthesis"></a>Vesa  V&#x00E4;lim&#x00E4;ki  and  Antti  Huovilainen.    Oscillator  and  filter  algorithms  for
   virtual analog synthesis. <span 
class="ptmri7t-">Computer Music Journal</span>, 30(2):pp. 19—31, 2006.
</p>
   </div>
                                                                  

                                                                  
   <h2 class="chapterHead"><span class="titlemark">Chapter 7</span><br /><a 
 id="x1-410007"></a>Appendix A</h2>
   <h3 class="sectionHead"><span class="titlemark">7.1    </span> <a 
 id="x1-420007.1"></a>Compiling the Source Code</h3>
<!--l. 3--><p class="noindent" >Download the Juce C++ Library from GitHub
<!--l. 5--><p class="indent" >   github.com/julianstorer/JUCE
<!--l. 7--><p class="indent" >   Additionally download and install the DrowAudio Juce Module Extensions
<!--l. 9--><p class="indent" >   github.com/drowaudio/drowaudio.git
   <h3 class="sectionHead"><span class="titlemark">7.2    </span> <a 
 id="x1-430007.2"></a>Bonjour</h3>
<!--l. 3--><p class="noindent" >Instructions for installing bonjour:
<!--l. 5--><p class="indent" >   If bonjour / zeroconfig is not installed on the SBC device you will get a ”fatal error:
dns_sd.h: No such file or directory” error. You can fix this by installing the Avahi
library
<!--l. 7--><p class="indent" >   http://www.avahi.org/download/avahi-0.6.31.tar.gz
<!--l. 9--><p class="indent" >   Requirements: sudo apt-get install intltool sudo apt-get install libperl-dev sudo apt-get
install libgdbm-dev sudo apt-get install libdaemon-dev sudo apt-get install pkg-config sudo
apt-get install libgtk2.0-0 sudo apt-get install libdbus-1-dev
<!--l. 18--><p class="indent" >   sudo apt-get install intltool libperl-dev libgdbm-dev libdaemon-dev pkg-config
libgtk2.0-0 libdbus-1-dev
<!--l. 21--><p class="indent" >   ./configure —prefix=/usr —enable-compat-libdns_sd —sysconfdir=/etc —localstatedir=/var
—disable-static —disable-mono —disable-monodoc —disable-python —disable-qt3
—disable-qt4 —disable-gtk —disable-gtk3 —enable-core-docs —with-distro=none
—with-systemdsystemunitdir=no
<!--l. 26--><p class="indent" >   make make install
<!--l. 29--><p class="indent" >   sudo cp /usr/include/avahi-compat-libdns_sd/dns_sd.h /usr/include/
   <h3 class="sectionHead"><span class="titlemark">7.3    </span> <a 
 id="x1-440007.3"></a>Evaluated Frameworks</h3>
<!--l. 3--><p class="noindent" >WDL : http://www.cockos.com/wdl/ ( +iplug library ) <br 
class="newline" />Juce : http://www.juce.com <br 
class="newline" />Open Frameworks : http://openframeworks.cc <br 
class="newline" />Boost : http://www.boost.org <br 
class="newline" />Cinder : http://libcinder.org <br 
class="newline" />LibSourcey : http://sourcey.com/libsourcey/ <br 
class="newline" />Qt : http://www.qt.io <br 
class="newline" />
   <div class="footnotes"><!--l. 5--><p class="MsoFootnoteText">      <a 
href="#fn1x4-bk" id="fn1x4"><span class="MsoFootnoteReference">     <sup class="textsuperscript">1</sup> </span></a><span 
class="ptmr7t-x-x-80">Die einzige Ausnahme k</span><span 
class="ptmr7t-x-x-80">&#x00F6;nnte Zeroconf / Bonjour unter Linux oder Windows sein. Siehe</span>
<span 
class="ptmr7t-x-x-80">Anhang</span>                                                                                                                                                                </div>
 
</body></html> 

                                                                  


